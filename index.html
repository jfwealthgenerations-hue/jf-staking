<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>JF Staking</title>

<style>
:root{
  --bg:#070A0F;
  --panel:rgba(255,255,255,.06);
  --stroke:rgba(255,255,255,.10);
  --text:#F4F6FF;
  --muted:rgba(244,246,255,.68);
  --gold1:#F5D06F;
  --gold2:#B88B2A;
  --blue:#3B82F6;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  color:var(--text);
  background:
    radial-gradient(900px 600px at 20% 10%, rgba(245,208,111,.18), transparent 55%),
    radial-gradient(900px 600px at 80% 0%, rgba(59,130,246,.16), transparent 55%),
    radial-gradient(700px 500px at 50% 110%, rgba(184,139,42,.14), transparent 60%),
    var(--bg);
  min-height:100vh;
}

.wrap{
  max-width:980px;
  margin:0 auto;
  padding:26px 16px 40px;
}

.topbar{
  display:flex;
  align-items:center;
  gap:14px;
  margin-bottom:16px;
}

.brand{
  display:flex;
  align-items:center;
  gap:14px;
}

.brand img{
  width:56px;
  height:56px;
  border-radius:16px;
  object-fit:contain;
  background:#000;
  padding:6px;
  box-shadow:0 12px 35px rgba(245,208,111,.35);
}

.brand h1{margin:0;font-size:18px}
.brand p{margin:4px 0 0;font-size:12px;color:var(--muted)}

.grid{
  display:grid;
  grid-template-columns:1.05fr .95fr;
  gap:14px;
}
@media(max-width:860px){.grid{grid-template-columns:1fr}}

.card{
  background:var(--panel);
  border:1px solid var(--stroke);
  border-radius:18px;
  padding:16px;
}

.card h2{
  margin:0 0 10px;
  font-size:14px;
  letter-spacing:.3px;
  text-transform:uppercase;
  color:rgba(245,208,111,.92);
}

label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}

input,select{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(10,14,22,.55);
  color:var(--text);
}

.btn{
  width:100%;
  padding:12px;
  border:none;
  border-radius:12px;
  font-weight:800;
  cursor:pointer;
}

.btn.primary{background:linear-gradient(135deg,var(--gold1),var(--gold2));color:#111}
.btn.soft{background:rgba(255,255,255,.08);color:#fff;border:1px solid rgba(255,255,255,.10)}
.btn.blue{background:linear-gradient(135deg,#60A5FA,#2563EB);color:#fff}

.notice{
  font-size:12px;
  padding:10px;
  border-radius:12px;
  background:rgba(245,208,111,.08);
  border:1px dashed rgba(245,208,111,.4);
  color:#f5e7b2;
}

.kv{
  display:grid;
  grid-template-columns:120px 1fr;
  gap:8px;
}

.kv div{
  padding:10px;
  border-radius:12px;
  background:rgba(0,0,0,.25);
  border:1px solid rgba(255,255,255,.08);
}

.small{font-size:12px;color:var(--muted)}
.mono{font-family:monospace;word-break:break-all}
</style>
</head>

<body>
<div class="wrap">

<div class="topbar">
  <div class="brand">
    <img src="logo.png" alt="Just Funny Logo">
    <div>
      <h1>JF Staking</h1>
      <p>Lock JF Â· Fixed rewards Â· Unlock date only</p>
    </div>
  </div>
</div>

<div class="grid">

<div class="card">
  <h2>Wallet</h2>
  <button class="btn primary" onclick="connect()">Connect Wallet</button>
  <div style="margin-top:10px" class="notice">
    Rewards are fixed. This page shows unlock date only.
  </div>
</div>

<div class="card">
  <h2>Stake</h2>

  <label>Lock period</label>
  <select id="pool">
    <option value="0">30 days</option>
    <option value="1">60 days</option>
    <option value="2">90 days</option>
    <option value="3">120 days</option>
    <option value="4">180 days</option>
  </select>

  <label style="margin-top:10px">Amount (JF)</label>
  <input id="amount" placeholder="100">

  <button class="btn soft" style="margin-top:10px" onclick="approve()">Approve</button>
  <button class="btn blue" style="margin-top:8px" onclick="stake()">Stake</button>

  <h2 style="margin-top:16px">Your Position</h2>
  <div class="kv">
    <div class="small">Staked</div><div id="staked">-</div>
    <div class="small">Unlock date</div><div id="unlock">-</div>
  </div>

  <button class="btn soft" style="margin-top:10px" onclick="withdraw()">Withdraw</button>
</div>

</div>

<!-- ðŸ” ANTI-FAKE SECURITY PROOF -->
<div style="
  max-width:980px;
  margin:28px auto 0;
  padding:14px 16px;
  border-radius:14px;
  background:rgba(245,208,111,.08);
  border:1px dashed rgba(245,208,111,.45);
  color:#f5e7b2;
  font-size:13px;
">
  <strong>Official JF Staking Contract</strong><br>
  <span class="mono">
    0x23ebc035F733fdb99c8248B2b22C351AD9207998
  </span>
  <br><br>
  Always verify the contract address before staking.<br>
  Any other website or address is <strong>NOT official</strong>.
</div>

</div>

<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
<script>
const STAKING_ADDRESS="0x23ebc035F733fdb99c8248B2b22C351AD9207998";
const TOKEN_ADDRESS="0x2338c5AD75967dAC2fF988FC3488109eC2406dfE";

const stakingABI=[
"function stake(uint256,uint256)",
"function withdraw(uint256)",
"function stakedAmount(uint256,address)view returns(uint256)",
"function unlockTimeOf(uint256,address)view returns(uint64)"
];
const erc20ABI=[
"function approve(address,uint256)",
"function decimals()view returns(uint8)"
];

let provider,signer,staking,token,user,decimals;

async function connect(){
 provider=new ethers.providers.Web3Provider(window.ethereum);
 await provider.send("eth_requestAccounts",[]);
 signer=provider.getSigner();
 user=await signer.getAddress();
 staking=new ethers.Contract(STAKING_ADDRESS,stakingABI,signer);
 token=new ethers.Contract(TOKEN_ADDRESS,erc20ABI,signer);
 decimals=await token.decimals();
 load();
}

async function approve(){
 const amt=document.getElementById("amount").value;
 const raw=ethers.utils.parseUnits(amt,decimals);
 await token.approve(STAKING_ADDRESS,raw);
}

async function stake(){
 const pid=document.getElementById("pool").value;
 const amt=document.getElementById("amount").value;
 const raw=ethers.utils.parseUnits(amt,decimals);
 await staking.stake(pid,raw);
 load();
}

async function withdraw(){
 const pid=document.getElementById("pool").value;
 await staking.withdraw(pid);
 load();
}

async function load(){
 const pid=document.getElementById("pool").value;
 const s=await staking.stakedAmount(pid,user);
 document.getElementById("staked").innerText=ethers.utils.formatUnits(s,decimals)+" JF";
 const t=await staking.unlockTimeOf(pid,user);
 document.getElementById("unlock").innerText=new Date(t*1000).toLocaleDateString();
}
</script>
</body>
</html>
